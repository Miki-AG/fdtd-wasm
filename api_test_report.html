
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>API & Test Coverage Report</title>
    <style>
        body { font-family: sans-serif; font-size: 11px; padding: 10px; background-color: #f4f4f4; margin: 0; padding-bottom: 40px; }
        h1 { font-size: 16px; margin: 10px 0; text-align: center; position: relative; }
        h2 { font-size: 13px; margin-top: 5px; margin-bottom: 5px; color: #333; border-bottom: 1px solid #eee; padding-bottom: 3px; }
        .summary { font-size: 11px; margin-bottom: 10px; font-weight: bold; text-align: center; background: white; padding: 8px; border-radius: 4px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        
        /* Auto-refresh control */
        #refresh-control {
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .columns-container {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }
        
        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
            min-width: 0;
        }

        .module-group { 
            background: white; 
            padding: 8px; 
            border-radius: 4px; 
            box-shadow: 0 1px 2px rgba(0,0,0,0.1); 
        }

        .full-width-section {
            margin-top: 10px;
        }

        table { border-collapse: collapse; width: 100%; table-layout: fixed; }
        th, td { border-bottom: 1px solid #ddd; padding: 3px; text-align: left; word-wrap: break-word; }
        th { background-color: #f8f8f8; color: #555; }
        tr:last-child td { border-bottom: none; }
        
        .status-Pass { background-color: #dff0d8; color: #3c763d; font-weight: bold; }
        .status-PassWASM { background-color: #dff0d8; color: #3c763d; font-weight: bold; border: 1px dashed #3c763d; }
        .status-Fail { background-color: #f2dede; color: #a94442; font-weight: bold; }
        .status-NoTest { background-color: #fcf8e3; color: #8a6d3b; }
        .status-TestWrittenNotRunWasm { background-color: #d9edf7; color: #31708f; }
        .status-ExpectedFailWASM { background-color: #e0e0e0; color: #555; font-style: italic; }

        .status-desc { font-weight: normal; font-size: 9px; color: #666; margin-top: 2px; font-style: italic; }
        
        /* Legend */
        .legend {
            margin-top: 20px;
            background: white;
            padding: 10px;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .legend h3 { margin: 0 0 10px 0; font-size: 13px; }
        .legend-item { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; font-size: 11px; }
        .legend-box { width: 16px; height: 16px; border-radius: 2px; border: 1px solid #ddd; }

        ul { columns: 3; -webkit-columns: 3; -moz-columns: 3; font-size: 10px; padding-left: 15px; margin: 0; }
        li { margin-bottom: 1px; }

        @media (max-width: 700px) {
            .columns-container { flex-direction: column; }
            ul { columns: 1; }
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkbox = document.getElementById('auto-refresh');
            const statusText = document.getElementById('refresh-status');
            let intervalId = null;

            // Load state from localStorage
            const savedState = localStorage.getItem('autoRefresh');
            if (savedState === 'true') {
                checkbox.checked = true;
                startRefresh();
            }

            checkbox.addEventListener('change', (e) => {
                localStorage.setItem('autoRefresh', e.target.checked);
                if (e.target.checked) {
                    startRefresh();
                } else {
                    stopRefresh();
                }
            });

            function startRefresh() {
                statusText.innerText = '(On)';
                intervalId = setInterval(() => {
                    location.reload();
                }, 5000);
            }

            function stopRefresh() {
                statusText.innerText = '(Off)';
                if (intervalId) clearInterval(intervalId);
            }
        });
    </script>
</head>
<body>
    <h1>API & Test Coverage Report 
        <div id="refresh-control">
            <label for="auto-refresh">Auto-Refresh</label>
            <input type="checkbox" id="auto-refresh">
            <span id="refresh-status">(Off)</span>
        </div>
    </h1>
    <div class="summary">
        Date: 12/12/2025, 10:19:08 AM<br>
        Total APIs: 60 | Passing: 56 | Untested/Failing: 4
    </div>

    <div class="columns-container">
        <div class="column">
                <div class="module-group">
                    <h2>Parameters Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>parameters::validate_parameters</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>State Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>state::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>state::reset</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>SimulationState::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Rasterizer Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>rasterizer::parse_svg_path</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>rasterizer::rasterize_obstacles</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>rasterizer::rasterize_path</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>rasterizer::fill_path_on_grid</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Renderer Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>renderer::render</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>renderer::map_value_to_color</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            </div><div class="column">
                <div class="module-group">
                    <h2>Engine Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>engine::update_hx</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::update_hy</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::update_e_fields</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_source</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_forced_source</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_boundary_left</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_boundary_right</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_boundary_top</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::apply_boundary_bottom</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>engine::compute_source_signal</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Step Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>step::step</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Lib Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>lib::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::step</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::set_comms_scheme</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::set_symbol_duration</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::send_message</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_transmission_bits</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_received_text</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_received_partial_text</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_received_bits</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_demodulator_status</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_frame_buffer</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_current_step</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::get_field_at</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>lib::process_receiver_signal</td>
                                <td class="status-PassWASM">
                                    Pass (WASM)
                                </td>
                            </tr>
                
                            <tr>
                                <td>FdtdSimulator::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Utils Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>utils::log</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>utils::set_panic_hook</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            </div><div class="column">
                <div class="module-group">
                    <h2>Comms Modulator Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>comms::modulator::text_to_bits</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::set_scheme</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::set_samples_per_symbol</td>
                                <td class="status-NoTest">
                                    No Test<div class="status-desc">Trivial setter</div>
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::load_text</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::next_modulation</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::modulator::get_bits_string</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>Modulator::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Comms Demodulator Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>comms::demodulator::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::set_scheme</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::set_samples_per_symbol</td>
                                <td class="status-NoTest">
                                    No Test<div class="status-desc">Trivial setter</div>
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::process_sample</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::get_text</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::get_partial_text</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::get_bits_string</td>
                                <td class="status-NoTest">
                                    No Test<div class="status-desc">Debug helper</div>
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::demodulator::get_state_string</td>
                                <td class="status-NoTest">
                                    No Test<div class="status-desc">Debug helper</div>
                                </td>
                            </tr>
                
                            <tr>
                                <td>Demodulator::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            
                <div class="module-group">
                    <h2>Comms Packet Module</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>API Name</th>
                                <th>Test Status</th>
                            </tr>
                        </thead>
                        <tbody>
            
                            <tr>
                                <td>comms::packet::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::packet::push_bit</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::packet::get_state</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>comms::packet::get_partial_payload</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                            <tr>
                                <td>PacketDecoder::new</td>
                                <td class="status-Pass">
                                    Pass
                                </td>
                            </tr>
                
                        </tbody>
                    </table>
                </div>
            </div>
    </div>

    <div class="legend">
        <h3>Legend</h3>
        <div class="legend-item"><div class="legend-box status-Pass"></div><div><strong>Pass</strong>: Verified by native 'cargo test'</div></div>
        <div class="legend-item"><div class="legend-box status-PassWASM"></div><div><strong>Pass (WASM)</strong>: Verified by 'wasm-pack test' (browser simulation)</div></div>
        <div class="legend-item"><div class="legend-box status-NoTest"></div><div><strong>No Test</strong>: Function not explicitly covered by a named test case</div></div>
        <div class="legend-item"><div class="legend-box status-Fail"></div><div><strong>Fail</strong>: Test exists but currently failing</div></div>
    </div>

    <div class="module-group full-width-section">
        <h2>Discovered Tests</h2>
        <ul>
<li>test_text_to_bits_conversion</li><li>test_modulator_sequence_fsk</li><li>test_modulator_ask</li><li>test_demodulator_perfect_signal_fsk</li><li>test_demodulator_perfect_signal_ask</li><li>test_packet_decoder_state_transitions</li><li>test_compute_source_signal_zero_time</li><li>test_compute_source_signal_peak</li><li>test_compute_source_signal_valley</li><li>test_compute_source_signal_zero_crossing</li><li>test_compute_source_signal_square</li><li>test_compute_source_signal_pulse_sine_cutoff</li><li>test_apply_boundary_left_does_not_panic</li><li>test_apply_boundary_right_does_not_panic</li><li>test_apply_boundary_top_does_not_panic</li><li>test_apply_boundary_bottom_does_not_panic</li><li>test_update_fields_no_source_remains_zero</li><li>test_apply_source_injects_value</li><li>test_update_hx_logic</li><li>test_update_hy_logic</li><li>test_update_e_fields_logic</li><li>test_apply_forced_source</li><li>test_validate_parameters_valid</li><li>test_validate_parameters_invalid_dimensions</li><li>test_validate_parameters_source_out_of_bounds</li><li>test_validate_parameters_source_on_boundary</li><li>test_validate_parameters_negative_frequency</li><li>test_validate_parameters_zero_duration</li><li>test_parse_svg_path_simple_rect</li><li>test_parse_invalid_path</li><li>test_fill_path_on_grid_square</li><li>test_fill_path_out_of_bounds</li><li>test_rasterize_path_delegates_correctly</li><li>test_rasterize_obstacles_multiple_paths</li><li>test_map_value_to_color_zero</li><li>test_map_value_to_color_positive_max</li><li>test_map_value_to_color_negative_max</li><li>test_map_value_clamping</li><li>test_map_value_intermediate</li><li>test_render_output_size</li><li>test_state_new_initialization</li><li>test_state_new_zero_size</li><li>test_state_reset</li><li>test_step_advances_time</li><li>test_set_panic_hook_does_not_crash</li>
        </ul>
    </div>
</body>
</html>
        